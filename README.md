# Malware-URL
Web service which informs if a website has malware or not

## Getting Started

This document explains how to successfully call the Malware url lookup API

### Before You Start

You will need the following prerequites 

* Python 3+ version
* Flask 
* Sqlite3

#### 1. Installing Python

Use this link to download and install python 3+ on your system
https://www.python.org/downloads/

Make sure to check add python to path checkbox for windows installation

#### 2. Installing Dependencies

For flask 

pip intsall flask

for sqlite3

pip install sqlite

Note: if this doesnt work for your system try using a virtual environment and make use of pip3 while intsalling

### Running the Service

Clone the project using the link https://github.com/therealameya/Malware-URL.git

Or

Simply download the zip and export it to a folder

Open the terminal(command line / powershell) in the folder you extracted the project and run this command.

For Linux and Mac:
export FLASK_APP=app.py

For Windows:
set FLASK_APP=app.py

Now type "flask run" in terminal this would run the flask project i.e. the web service.


## API Documentation

### Get URL Info

```
GET /v1/urlinfo/{resource_url_with_query_string}
```
Along with the url_string we also need to pass api_key parameter for authenctication.
(For this demo api_key is hardcoded as "abc123")

| Parameter | Type | Description |
| :--- | :--- | :--- |
| `api_key` | `string` | **Required**. Your Access API key |


### Respone Structure
```
{
    "safe": true,
    "details": {
        "type": "",
        "date_added": ""
    }
}
```
If the URL is known to contain malware, the safe field would be 'false' and the details field would contain information about the type of  malware. If the URL is not known to contain any malware, the safe field would be true and the details field would be empty.

**Example 1**

#### Request

Here,

url = abc.com
api_key = abc123

```
http://127.0.0.1:5000/v1/urlinfo/abc.com?api_key=abc123
```

Here,

url = abc.com
api_key = abc123

#### Response

```
{
	"safe":false,
	"details": {
		"date_added":"2022-01-01",
		"type":"Trojan",
		"url":"abc.com"
	}
}
```

As the URL is known to contain malware, the safe field returns false and the details field contain information about the malware type. 


**Example 2 **

#### Request

Here,

url = abc.com
api_key = abc123

```
http://127.0.0.1:5000/v1/urlinfo/abc1.com?api_key=abc123
```

Here,

url = abc1.com
api_key = abc123

#### Response

```
{"safe":true}
```

As the URL is known to contain malware, the safe field returns true and returns no details section.


